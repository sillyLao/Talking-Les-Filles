[gd_scene load_steps=4 format=3 uid="uid://6fauqiuifkj6"]

[ext_resource type="Script" uid="uid://nmwvwsqw6sh2" path="res://scripts/ui.gd" id="1_nt7q6"]
[ext_resource type="Texture2D" uid="uid://dgwi4lg7p1ld" path="res://assets/sprites/settings.png" id="2_x4jx1"]

[sub_resource type="SystemFont" id="SystemFont_x4jx1"]
font_names = PackedStringArray("Sans-Serif")
font_weight = 725
subpixel_positioning = 0

[node name="UI" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_nt7q6")

[node name="SettingsPanel" type="Control" parent="."]
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="ColorRect" type="ColorRect" parent="SettingsPanel"]
layout_mode = 0
offset_left = 30.0
offset_top = 200.0
offset_right = 530.0
offset_bottom = 900.0
mouse_filter = 2
color = Color(0.235294, 0.235294, 0.235294, 0.760784)

[node name="Debug" type="RichTextLabel" parent="SettingsPanel"]
layout_mode = 0
offset_left = 45.0
offset_top = 212.0
offset_right = 473.0
offset_bottom = 311.0
bbcode_enabled = true
text = "[b]Input : [/b]
[b]Output V : [/b]
[b]Output W : [/b]
[b]Delay : [/b]"

[node name="Threshold" type="Label" parent="SettingsPanel"]
layout_mode = 0
offset_left = 82.0
offset_top = 346.0
offset_right = 147.0
offset_bottom = 381.0
theme_override_fonts/font = SubResource("SystemFont_x4jx1")
theme_override_font_sizes/font_size = 24
text = "Seuil"

[node name="ThresholdSlider" type="HSlider" parent="SettingsPanel"]
layout_mode = 0
offset_left = 159.135
offset_top = 352.0
offset_right = 459.135
offset_bottom = 368.0
min_value = -80.0
max_value = 20.0
step = 5.0
value = -50.0
tick_count = 18
ticks_on_borders = true

[node name="ThresholdValue" type="Label" parent="SettingsPanel"]
layout_mode = 0
offset_left = 469.0
offset_top = 350.0
offset_right = 509.0
offset_bottom = 373.0
text = "-50"

[node name="Volume" type="Label" parent="SettingsPanel"]
layout_mode = 0
offset_left = 56.0
offset_top = 383.0
offset_right = 154.0
offset_bottom = 418.0
theme_override_fonts/font = SubResource("SystemFont_x4jx1")
theme_override_font_sizes/font_size = 24
text = "Volume"

[node name="VolumeSlider" type="HSlider" parent="SettingsPanel"]
layout_mode = 0
offset_left = 159.135
offset_top = 389.0
offset_right = 459.135
offset_bottom = 405.0
min_value = -30.0
max_value = 30.0
step = 0.0
value = 1.0

[node name="VolumeValue" type="Label" parent="SettingsPanel"]
layout_mode = 0
offset_left = 469.0
offset_top = 387.0
offset_right = 509.0
offset_bottom = 410.0
text = "0"

[node name="Microhpone" type="Label" parent="SettingsPanel"]
layout_mode = 0
offset_left = 50.0
offset_top = 424.0
offset_right = 186.0
offset_bottom = 459.0
theme_override_fonts/font = SubResource("SystemFont_x4jx1")
theme_override_font_sizes/font_size = 24
text = "Microphone"

[node name="MicrophoneList" type="OptionButton" parent="SettingsPanel"]
clip_contents = true
layout_mode = 0
offset_left = 203.0
offset_top = 426.0
offset_right = 513.0
offset_bottom = 451.0
fit_to_longest_item = false

[node name="Speaker" type="Label" parent="SettingsPanel"]
visible = false
layout_mode = 0
offset_left = 50.0
offset_top = 456.0
offset_right = 186.0
offset_bottom = 491.0
theme_override_fonts/font = SubResource("SystemFont_x4jx1")
theme_override_font_sizes/font_size = 24
text = "Sortie"
horizontal_alignment = 2

[node name="SpeakerList" type="OptionButton" parent="SettingsPanel"]
visible = false
layout_mode = 0
offset_left = 203.0
offset_top = 458.0
offset_right = 513.0
offset_bottom = 483.0
fit_to_longest_item = false

[node name="Settings" type="Button" parent="."]
layout_mode = 0
offset_left = 14.0
offset_top = 13.0
offset_right = 102.0
offset_bottom = 101.0
icon = ExtResource("2_x4jx1")
flat = true

[connection signal="value_changed" from="SettingsPanel/ThresholdSlider" to="." method="_on_threshold_value_changed"]
[connection signal="value_changed" from="SettingsPanel/VolumeSlider" to="." method="_on_volume_slider_value_changed"]
[connection signal="item_selected" from="SettingsPanel/MicrophoneList" to="." method="_on_microphone_list_item_selected"]
[connection signal="item_selected" from="SettingsPanel/SpeakerList" to="." method="_on_speaker_list_item_selected"]
[connection signal="pressed" from="Settings" to="." method="_on_settings_pressed"]
